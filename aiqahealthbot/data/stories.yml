version: "3.1"

stories:
  - story: book an appointment with specific time
    steps:
      - intent: greet
      - action: action_greet
      - action: utter_list_doctors
      - intent: book_appointment
        entities:
          - doctor: "Dr. Smith"
      - action: utter_ask_time
      - intent: inform_time
        entities:
          - time: "Friday"
      - action: utter_ask_time_specific
      - intent: inform_time_specific
        entities:
          - time: "10:00 AM"
      - action: utter_confirm_appointment
      - intent: affirm
      - action: utter_thank
      - intent: goodbye
      - action: utter_goodbye

  # - story: book an appointment without specific time
  #   steps:
  #     - intent: greet
  #     - action: action_greet
  #     - intent: book_appointment
  #       entities:
  #         - doctor: "Dr. Johnson"
  #     - action: utter_ask_time
  #     - intent: inform_time
  #       entities:
  #         - time: "next Monday morning"
  #     - action: utter_confirm_appointment
  #     - intent: affirm
  #     - action: utter_thank
  #     - intent: goodbye
  #     - action: utter_goodbye

  - story: inquire and book an appointment
    steps:
      - intent: greet
      - action: action_greet
      - action: utter_list_doctors
      - intent: inquire_doctors
      - action: utter_list_doctors
      - intent: book_appointment
        entities:
          - doctor: "Dr. Smith"
      - action: utter_ask_time
      - intent: inform_time
        entities:
          - time: "Friday"
      - action: utter_ask_time_specific
      - intent: inform_time_specific
        entities:
          - time: "10:00 AM"
      - action: utter_confirm_appointment
      - intent: affirm
      - action: utter_thank
      - intent: goodbye
      - action: utter_goodbye

  - story: inquire and not book an appointment
    steps:
      - intent: greet
      - action: action_greet
      - action: utter_list_doctors
      - intent: inquire_doctors
      - action: utter_list_doctors
      - intent: deny
      - action: utter_thank
      - intent: goodbye
      - action: utter_goodbye

  # - story: inquire and book an appointment
  #   steps:
  #     - intent: greet
  #     - action: action_greet
  #     - intent: inquire_doctors
  #     - action: utter_list_doctors
  #     - intent: book_appointment
  #       entities:
  #         - doctor: "Dr. Smith"
  #     - action: utter_ask_time
  #     - intent: inform_time
  #       entities:
  #         - time: "Friday"
  #     - action: action_check_availability
  #     - intent: affirm
  #     - action: utter_confirm_appointment
  #     - intent: affirm
  #     - action: utter_thank
  #     - intent: goodbye
  #     - action: utter_goodbye

  - story: inquire and provide alternative time
    steps:
      - intent: greet
      - action: action_greet
      - action: utter_list_doctors
      - intent: inquire_doctors
      - action: utter_list_doctors
      - intent: book_appointment
        entities:
          - doctor: "Dr. Johnson"
      - action: utter_ask_time
      - intent: inform_time
        entities:
          - time: "next Monday morning"
      - action: action_doctor_check_availability
      - intent: deny
      - action: utter_ask_alternative_time
      - intent: inform_time_specific
        entities:
          - time: "10:00 AM"
      - action: utter_confirm_appointment
      - intent: affirm
      - action: utter_thank
      - intent: goodbye
      - action: utter_goodbye


  - story: inquire and provide alternative time
    steps:
      - intent: greet
      - action: action_greet
      - action: utter_list_doctors
      - intent: book_appointment
      - action: utter_ask_time
      - intent: inform_time_specific
      - action: utter_confirm_appointment
      - intent: affirm
      - action: utter_thank
      - intent: goodbye
      - action: utter_goodbye


